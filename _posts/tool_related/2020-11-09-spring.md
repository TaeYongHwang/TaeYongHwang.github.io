---
title: "Spring (JAVA framework)"
date: 2020-11-09
toc: true
toc_sticky: true
categories: Tool
---

# 20.11.09 시작

# JAVA
- JDK: Java Development Kit
- JRE: Java Runtime Environment
- JVM: Java Virtual Machine
 
## 변수 영역
1. 클래스 멤버 변수 : static 영역 (JVM 종료 시까지 존재)
2. 지역 변수 : stack 영역 (해당 스택 영역 종료 시 삭제)
3. 객체 멤버 변수 : heap 영역 (객체와 함께 가비지 컬렉터에 의해 정리됨)

## 객체 지향의 4대 특성
1. 캡슐화 : 정보 은닉 (접근 제어자 등)
2. 상속 (Inheritance, Extends)
3. 추상화 (Abstraction) : 모델링 
4. 다형성 : 오버로딩, 오버라이딩

### 오버로딩, 오버라이딩
- Overloading : 같은 메서드 이름, 다른 인자 목록으로 다수의 메써드를 중복 정의
- Overridding : 같은 메서드 이름, 같은 인자 목록으로 부모 클래스의 매서드를 자식 클래스에서 재정의

### 접근 제어자
1. public : 모두 접근 가능
2. protected : 상속 / 같은 패키지 내의 클래스에서 접근 가능
3. default :  같은 패키지 내의 클래스에서 접근 가능
4. private : 자신만 접근 가능

### abstract
- 선언부는 존재하지만, 구현부가 없는 것들 (추상 메서드, 추상 클래스 등)
- 객체를 생성할 수 없음 -> 하위 클래스에 메서드의 구현을 강제시킨다.
- 추상 메서드가 하나라도 존재하면 해당 클래스는 추상 클래스이다.

### static block
- 클래스가 스태틱 영역에 배치될 때 실행되는 코드
- 패키지 or 클래스가 처음 사용될 때 스태틱 영역에 배치된다.
- 스태틱 영역에 배치되면 프로그램 종료 시까지 해당 메모리를 반환할 수 없다.

```
public class Ex {
    static {
        // Ex 클래스가 스태틱 영역에 배치 될 시 바로 실행
    }

    {
        // Ex 인스턴스가 생성될 시 바로 실행

    }   
}

```


### final
- public final class ~ (final class) : 해당 클래스에 대해 상속을 허용하지 않는다.
- final void ~ (final method) : 해당 메서드에 대해 오버라이딩을 허용하지 않는다.
- final int ~ (final varible) : 해당 변수에 대해 값 변경을 허용하지 않는다. (다른 언어에서의 const)

### interface
- public abstract method, public static final variable 만 갖을 수 있다. (붙이지 않아도 자동으로 자바에서 변형해준다.)

```
// 동일 코드
interface Math {
    int x = 3;

    void cal();
}

interface Math {
    public static final int x = 3;

    public abstract void cal();
}

```

## SOLID
- High Cohesion, Loose Coupling (응집도는 높이고 결합도는 낮춘다)
- 재사용성, 수정, 유지 보수에 용이하게 하기 위해서
- 결합도 : 모듈 간의 상호 의존 정도
- 응집도 : 모듈 내의 요소들이 갖는 기능적 관련성 

### 1. SRP (Single Responsibility Principle) - 단일 책임 원칙
> "하나의 클래스를 수정해야되는 이유는 오직 한 가지여야 한다."

### 2. OCP (Open Closed Principle) - 개방 폐쇄 원칙
> "소프트웨어 개체(클래스, 모듈, 함수 등)는 확장에 대해서는 열려있어야 하고, 수정에 대해서는 닫혀있어야 한다."

### 3. LSP (Liskov Substitution Principle) - 리스코프 치환 원칙
> “서브 타입은 언제나 자신의 __기반 타입(base type)__ 으로 교체할 수 있어야 한다.”   
> "하위 클래스의 인스턴스는 상위 객체 참조 변수에 대입해 상위 클래스의 인스턴스 역할을 하는 데 문제가 없어야 한다."
- 계층도가 아닌 분류도 형식으로 상속해야 함

### 4. ISP (Interface Segregation Principle) - 인터페이스 분리 원칙
> “클라이언트가 사용하지 않는 메소드에 영향받지 않아야 한다.”
- 인터페이스를 이용해 제한된 메서드만 호출할 수 있게 만듦

### 5. DIP (Dependency Inversion Principle) - 의존 역전 원칙
> "클래스를 참조할 일이 있을 때 그 클래스를 직접 참조하지 말고 그 대상의 추상 클래스를 만들어서 참조해야 한다"
> "자신보다 변하기 쉬운 것에 의존하면 안된다"



# Spring
- 자바 엔터프라이즈 개발을 편하게 해주는 오픈소스 경량급 애플리케이션 __프레임워크__

## 디자인 패턴

### Adapter Pattern (어댑터 패턴)
- __호출당하는 쪽의 메서드를 호출하는 쪽의 코드에 대응하도록 중간에 변환기를 통해 호출하는 패턴__
- OCP 활용한 설계 패턴
- 같이 쓸 수 없는 클래스를 연결해 사용할 수 있게 해준다.

### Proxy Pattern (프록시 패턴)
- __제어 흐름을 조정하기 위한 목적으로 중간에 대리자를 두는 패턴__
- OCP, DIP 활용한 설계 패턴 
- 프록시에서 실제 서비스와 같은 이름의 메서드를 구현 (인터페이스 사용)
- 프록시는 실제 서비스에 대한 참조 변수를 갖는다.
- 프록시에서 실제 서비스에 존재하는 같은 이름의 메서드를 호출한 후 해당 값을 반환한다 (전후에 추가 로직 수행 가능)
- 반환값에 대한 변경은 최대한 이루어지지 않게

### Decorator Pattern (데코레이터 패턴)
- __메서드 호출의 반환값에 변화를 주기 위해 중간에 데코레이터를 두는 패턴__
- 프록시 패턴과 구현 방식은 동일하지만, 반환값에 대한 변경이 일어난다.
- OCP, DIP 활용한 설계 패턴

### Singleton Pattern (싱글턴 패턴)
- __클래스에 대한 인스턴스를 오직 하나만 만들어 사용하기 위한 패턴__ (불필요한 자원 낭비 최소화)
- new를 실행할 수 없도록 생성자에 private 접근 제어자를 지정한다. (객체를 생성하는 과정을 없앰)
- 유일한 객체를 반환할 수 있는 static 메서드가 필요
- 유일한 객체를 참조할 static 변수가 필요
- read only 변수만 존재하게 설계해야 한다.

### Template Method Pattern (템플릿 메서드 패턴)
- __상위 클래스의 템플릿 메서드에서 하위 클래스가 오버라이딩한 메서드를 호출하는 패턴__
- DIP 활용한 설계 패턴
- 전체적으로는 동일하면서 부분적으로 다른 메서드의 코드 중복을 최소화시킴
- 오버라이딩을 강제하는 부분과 그렇지 않은 부분으로 나눠서 관리한다.


### Factory Method Pattern (팩토리 메서드 패턴)
- Factory : 객체를 생성해 반환하는 메서드
- __오버라이드된 메서드가 객체를 반환하는 패턴__
- DIP 활용한 설계 패턴


### Strategy Pattern (전략 패턴)
- strategy, context, client 의 세 요소로 구성
- __client에서 strategy 객체를생성해 context에 주입하는 패턴__
- 자바에서는 단일 상속만 지원하기 때문에, 템플릿 메서드 패턴보다 전략 패턴을 많이 사용한다.
- OCP, DIP 활용한 설계 패턴

#### Template Callback Pattern (견본/회신 패턴)
- DI (의존성 주입)에서 사용하는 특별한 형태의 전략 패턴
- 전략 패턴과 동일하지만, strategy를 __anonymous inner class__로 정의해서 사용한다
- OCP, DIP 활용한 설계 패턴

### MVC 패턴 (Model - View - Controller)
- Model : 백그라운드 동작 로직 처리
- View : 사용자가 볼 결과 화면 출력
- Controller : Model - View 를 연결해주는 역할 


## 스프링 삼각형
- POJO(Plain Old Java Object) 를 기반으로 하는 __IOC/DI, AOP, PSA__ 의 3대 프로그래밍 모델

### IOC/DI
- __Inversion Of Control / Dependency Injection, 제어의 역전/ 의존성 주입__


#### Bean
- Spring IoC Container가 관리하는 자바 객체를 __빈(bean)__ 이라고 한다.
```java
import org.springframework.context.ApplicationContext;
// ApplicationContext 에서 getBean 메서드를 이용해 받아올 수 있는 객체를 빈이라고 한다.
// new 로 생성하는 경우 빈이 아니다

import org.springframework.beans.factory.annotation.Autowired;

// type (인터페이스) 기준 매칭 - 여러개의 클래스가 존재하는 경우 bean 태그의 id로 구분
// 유니크하게 식별이 불가능할 경우 에러
@Autowired  
Tire tire; //스프링 프레임워크가 설정 파일을 통해 대신 주입해준다.

```







  

## Maven




























   
> 출처   
> 스프링 입문을 위한 자바 객체지향의 원리와 이해









